window.caniusecallback=function(a){var b=$(".page.current .support div");$.each(caniuse.caniusefeatures,function(g,f){var e=a.data[f];var c=b.clone();var d="http://caniuse.com/#search="+f;c.find("h4").html((e.title).link(d));$.each(e.stats,function(h,i){var j="—";$.each(i,function(l,k){if(k.indexOf("y")==0){if(j!="—"){j+="+";return false}j=l}});c.find("td."+h).text(j)});c.find("table").css("visibility","visible").end().insertAfter(".page.current .support h3");b.remove();$("section.support td").hover(function(){$(this).parents("table").find("th:nth-child("+($(this).index()+1)+")").addClass("current")},function(){$(this).parents("table").find("th:nth-child("+($(this).index()+1)+")").removeClass("current")})})};window.loadCanIUseData=function(){if(caniuse.caniusefeatures[0]&&caniuse.caniusefeatures[0].length){$(".page.current .support").show();var b=document.createElement("script");b.src="http://caniuse.com/jsonp.php?callback=caniusecallback";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}};window.loadTutorials=function(){var a=document.documentElement.getAttribute("lang")||"en";var b=$("<div>").load("/"+a+"/tutorials/ #index",function(){var c=5;var d=$(".page.current .tutorials ul");var e=$([]);$.each(caniuse.features.split(","),function(g,f){var h=b.find(".sample span.tag:contains("+f+")").closest(".sample");e=e.add(h)});e.splice(c);$(e).find("h2 a").clone().wrap("<li>").parent().prependTo(d)})};window.loadFeaturePanels=function(){if(window.caniuse){loadCanIUseData();loadTutorials()}};